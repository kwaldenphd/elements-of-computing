

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Elements of Computing (S24): Data Sources (part 1) &#8212; Elements of Computing</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=bd9e20870c6007c4c509" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=bd9e20870c6007c4c509" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=bd9e20870c6007c4c509" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=bd9e20870c6007c4c509" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=bd9e20870c6007c4c509" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=bd9e20870c6007c4c509" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=bd9e20870c6007c4c509"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '02-Data-Sources-Structures/test';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Getting Started With Python" href="../01-Python-Refresh/00-Python.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <header>
  
    <div class="bd-header navbar navbar-expand-lg bd-navbar">
    </div>
  
  </header>

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/favicon.png" class="logo__image only-light" alt="Elements of Computing - Home"/>
    <script>document.write(`<img src="../_static/favicon.png" class="logo__image only-dark" alt="Elements of Computing - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome to your Jupyter Book
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../how-to.html">How to Interact With This Book</a></li>
<li class="toctree-l1"><a class="reference internal" href="../01-Python-Refresh/00-Python.html">Getting Started With Python</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Elements of Computing (S24): Data Sources (part 1)</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/kwaldenphd/elements-of-computing/main?urlpath=lab/tree/book/02-Data-Sources-Structures/test.md" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onBinder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li><a href="https://colab.research.google.com/github/kwaldenphd/elements-of-computing/blob/main/book/02-Data-Sources-Structures/test.md" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onColab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/kwaldenphd/elements-of-computing" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/kwaldenphd/elements-of-computing/issues/new?title=Issue%20on%20page%20%2F02-Data-Sources-Structures/test.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/02-Data-Sources-Structures/test.ipynb" target="_blank"
   class="btn btn-sm btn-download-notebook-button dropdown-item"
   title="Download notebook file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-code"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li><a href="../_sources/02-Data-Sources-Structures/test.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Elements of Computing (S24): Data Sources (part 1)</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#acknowledgements">Acknowledgements</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#table-of-contents">Table of Contents</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-use-this-notebook">How to Use This Notebook</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lab-notebook-template">Lab Notebook Template</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#structured-data">Structured Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tabular-or-delimited-data">Tabular (or Delimited) Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#javascript-object-notation">JavaScript Object Notation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-structured-data-in-python">Loading Structured Data in Python</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#without-pandas">Without Pandas</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#csv"><code class="docutils literal notranslate"><span class="pre">csv</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#json"><code class="docutils literal notranslate"><span class="pre">json</span></code></a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#with-pandas">With Pandas</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#delimited-file-dataframe">Delimited file -&gt; <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#pandas-json"><code class="docutils literal notranslate"><span class="pre">Pandas</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">JSON</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#application">Application</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#web-apis">Web APIs</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#api-terminology-general-workflow">API Terminology &amp; General Workflow</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#city-of-south-bend-open-data-portal">City of South Bend Open Data Portal</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Application</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#u-s-census-bureau">U.S. Census Bureau</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#selecting-a-dataset">Selecting a Dataset</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#constructing-your-query">Constructing Your Query</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#writing-the-api-call">Writing the API Call</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#other-resources">Other Resources</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Application</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-unstructured-text">Working With Unstructured Text</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#python-workflows">Python Workflows</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Application</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-submit-this-lab-show-your-work">How to Submit This Lab &amp; Show Your Work</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lab-notebook-questions">Lab Notebook Questions</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="elements-of-computing-s24-data-sources-part-1">
<h1>Elements of Computing (S24): Data Sources (part 1)<a class="headerlink" href="#elements-of-computing-s24-data-sources-part-1" title="Permalink to this heading">#</a></h1>
<p><a href="http://creativecommons.org/licenses/by-nc/4.0/" rel="license"><img alt="Creative Commons License" src="https://i.creativecommons.org/l/by-nc/4.0/88x31.png" /></a>
This tutorial is written by <a class="reference external" href="https://github.com/kwaldenphd">Katherine Walden</a> and is licensed under a <a href="http://creativecommons.org/licenses/by-nc/4.0/" rel="license">Creative Commons Attribution-NonCommercial 4.0 International License</a>.</p>
<section id="acknowledgements">
<h2>Acknowledgements<a class="headerlink" href="#acknowledgements" title="Permalink to this heading">#</a></h2>
</section>
<section id="table-of-contents">
<h2>Table of Contents<a class="headerlink" href="#table-of-contents" title="Permalink to this heading">#</a></h2>
</section>
<section id="how-to-use-this-notebook">
<h2>How to Use This Notebook<a class="headerlink" href="#how-to-use-this-notebook" title="Permalink to this heading">#</a></h2>
<p>First, make sure you’re working in the copy of the notebook that has your name (check the file name in the top left-hand corner of the screen).</p>
<p>We’re using a Python authoring environment called <strong>a notebook</strong>, which is made up of blocks or cells.</p>
<ul class="simple">
<li><p>Text cells (like this one), consist of formatted text. For the most part, these cells include instructions and you will just read them.</p></li>
<li><p>Code cells (like the sample one below) have Python code that you will run. To run a code cell, hover over it with the cursor and click the <code class="docutils literal notranslate"><span class="pre">arrow</span></code> icon.</p></li>
</ul>
<p>SCREENSHOT</p>
<p>If at any point you want to add a new code cell to try things out on your own, there are a couple ways to add a code cell. First, you’ll need to click on a text or code cell near where you want to add a cell:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">+</span> <span class="pre">Code</span></code> in the upper left-hand corner of the screen, under <code class="docutils literal notranslate"><span class="pre">Help</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Insert</span> <span class="pre">-&gt;</span> <span class="pre">Code</span> <span class="pre">cell</span></code> in the upper left-hand menu bar</p></li>
</ul>
</section>
<section id="lab-notebook-template">
<h2>Lab Notebook Template<a class="headerlink" href="#lab-notebook-template" title="Permalink to this heading">#</a></h2>
<p>Moving forward, we’re going to be submitting lab notebooks using the provide Jupyter Notebook template.</p>
<ul class="simple">
<li><p>If working in JupyterLab (or another desktop IDE), download the <code class="docutils literal notranslate"><span class="pre">.ipynb</span></code> file to your local computer</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">File</span></code> - <code class="docutils literal notranslate"><span class="pre">Download</span></code> - <code class="docutils literal notranslate"><span class="pre">Download</span> <span class="pre">as</span> <span class="pre">.ipynb</span></code></p></li>
</ul>
</li>
<li><p>If working in Google Colaboratory, MAKE SURE you save a copy to your local drive. Otherwise your changes will not be saved.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">File</span></code> - <code class="docutils literal notranslate"><span class="pre">Save</span> <span class="pre">a</span> <span class="pre">copy</span> <span class="pre">in</span> <span class="pre">Drive</span></code></p></li>
</ul>
</li>
</ul>
<p>The lab notebook template includes all of the questions as well as pre-created markdown cells for narrative text answers and pre-created code cells for any programs you may need to create.</p>
<ul class="simple">
<li><p>Double click on these cells to edit and add your own content</p></li>
<li><p>If questions do not require a code component, you can ignore those cells</p></li>
<li><p>If questions to not require a narrative component, you can ignore those cells</p></li>
</ul>
<p>If working in JupyterLab or another desktop IDE, upload the lab notebook template <code class="docutils literal notranslate"><span class="pre">.ipynb</span></code> file to Canvas as your lab submission.</p>
<p>If working in Google Colaboratory, submit the link to your notebook (checking sharing permissions, similar with Google Docs).</p>
</section>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading">#</a></h2>
<p align="center"><img src="https://github.com/kwaldenphd/python-data-structures/blob/main/images/Python_Data_Structures.png?raw=true" width="1000"></p>
<p>In this lab, we’re thinking about how Python’s built-in data structures (along with <code class="docutils literal notranslate"><span class="pre">Pandas</span></code> workflows) connect to how data is often structured in files or made available on the web.</p>
<p>We’ll also be covering how to access data via web APIs, and preliminary workflows for text mining &amp; documents.</p>
</section>
<section id="structured-data">
<h2>Structured Data<a class="headerlink" href="#structured-data" title="Permalink to this heading">#</a></h2>
<p>Specifically, we’re thinking about a couple key data structures:</p>
<ul class="simple">
<li><p>Tabular data, or data stored as a table consisting of rows and columns</p></li>
<li><p>Data stored as name-value pairs, specifically in the JavaScript Object Notation (<code class="docutils literal notranslate"><span class="pre">.json</span></code>) format</p></li>
</ul>
<table>
<tr><td><p align="center"><img src="https://github.com/kwaldenphd/python-structured-data/blob/main/images/One_Dimensional_Array.jpg?raw=true" width="500"></p></td><td><p align="center"><img src="https://github.com/kwaldenphd/python-structured-data/blob/main/images/Associative_Arrays.png?raw=true" width="500"></p></td></tr>
	<tr><td align="center">Linear Array</td><td align="center">Associative Array</td></tr></table>
<p>We can connect these two types of data structures back to the concepts of linear and associative arrays covered previously in the course. A quick refresher:</p>
<ul class="simple">
<li><p>“In computer science, an array is a data structure consisting of a collection of elements (values or variables), each identified by at least one array index or key…The simplest type of data structure is a linear array, also called one-dimensional array” (<a class="reference external" href="https://en.wikipedia.org/wiki/Array_(data_structure)">Wikipedia, “Array (data structure)</a>”)</p></li>
<li><p>Associative arrays are “an abstract data type that stores a collection of (key, value) pairs, such that each possible key appears at most once in the collection” (<a class="reference external" href="https://en.wikipedia.org/wiki/Associative_array">Wikpedia, Associative Array</a>)</p></li>
</ul>
<section id="tabular-or-delimited-data">
<h3>Tabular (or Delimited) Data<a class="headerlink" href="#tabular-or-delimited-data" title="Permalink to this heading">#</a></h3>
<p align="center"><img src="https://github.com/kwaldenphd/python-structured-data/blob/main/images/table_diagram.png?raw=true" width="1000"></p>
<p>“A delimited file is a sequential file with column delimiters. Each delimited file is a stream of records, which consists of fields that are ordered by column. Each record contains fields for one row. Within each row, individual fields are separated by column delimiters. All fields must be delimited character strings, non-delimited character strings, or external numeric values. Delimited character strings can contain column delimiters and can also contain character string delimiters when two successive character string delimiters are used to represent one character.” (IBM, “<a class="reference external" href="https://www.ibm.com/docs/en/db2-for-zos/11?topic=utilities-delimited-file-format">Delimited File Format</a>”, 5 February 2022)</p>
<p>A few characteristics that distinguish <code class="docutils literal notranslate"><span class="pre">.csv</span></code> files (or other plain-text delimited data formats) from proprietary spreadsheet file types:</p>
<ul class="simple">
<li><p>Columns in a <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file don’t have a value type. Everything is a string.</p></li>
<li><p>Values in a <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file don’t have font or color formatting</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.csv</span></code> files only contain single worksheets</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.csv</span></code> files don’t store formatting information like cell width/height</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.csv</span></code> files don’t recognize merged cells or other kinds of special formatting (frozen or hidden rows/columns, embedded images, etc.)</p></li>
</ul>
</section>
<section id="javascript-object-notation">
<h3>JavaScript Object Notation<a class="headerlink" href="#javascript-object-notation" title="Permalink to this heading">#</a></h3>
<p>START HERE: <a class="reference external" href="https://youtu.be/B8AvytgCBdE?si=SIkXF1u7xFOznfv0">https://youtu.be/B8AvytgCBdE?si=SIkXF1u7xFOznfv0</a></p>
<p align="center"><img src="https://github.com/kwaldenphd/python-structured-data/blob/main/images/JSONSample.jpg?raw=true" width="500"></p>
<p>JavaScript Object Notation (JSON) is as popular way to format data as a single (purportedly human-readable) string. JavaScript programs use JSON data structures, but we can frequently encounter JSON data outside of a JavaScript environment.</p>
<p>Websites that make machine-readable data available via an application programming interface (API- more on this soon) often provide that data in a JSON format. JSON structures can vary WIDELY depending on the specific data provider, but the easiest way to think of JSON data as a plain-text data format made up of something like key-value pairs, like we’ve encountered previously in working with dictionaries (as a type of associative array).</p>
<p>Example JSON string: <code class="docutils literal notranslate"><span class="pre">stringOfJsonData</span> <span class="pre">=</span> <span class="pre">'{&quot;name&quot;:</span> <span class="pre">Zophie&quot;,</span> <span class="pre">&quot;isCat&quot;:</span> <span class="pre">true,</span> <span class="pre">&quot;miceCaught&quot;:</span> <span class="pre">0,</span> <span class="pre">&quot;felineIQ&quot;:</span> <span class="pre">null}'</span></code>. From looking at the example string, we can see field names or keys (<code class="docutils literal notranslate"><span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">isCat</span></code>, <code class="docutils literal notranslate"><span class="pre">miceCaught</span></code>, <code class="docutils literal notranslate"><span class="pre">felineIQ</span></code>) and values for those fields.</p>
<p>To use more precise terminology, JSON data has the following attributes:</p>
<ul class="simple">
<li><p>uses name/value pairs</p></li>
<li><p>separates data using commas</p></li>
<li><p>holds objects using curly braces <code class="docutils literal notranslate"><span class="pre">{}</span></code></p></li>
<li><p>holds arrays using square brackets <code class="docutils literal notranslate"><span class="pre">[]</span></code></p></li>
</ul>
<p>In our example <code class="docutils literal notranslate"><span class="pre">stringOfJsonData</span></code>, we have an object contained in curly braces. An object can include multiple name/value pairs. Multiple objects together can form an array.</p>
<p>How is data stored in a JSON format different than a <code class="docutils literal notranslate"><span class="pre">.csv</span></code>?</p>
<ul class="simple">
<li><p>A <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file uses characters as delimiters and has more of a tabular (table-like) structure.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.json</span></code> data uses characters as part of the syntax, but not in the same way as delimited data files.</p></li>
<li><p>The data stored in a JSON format has values that are attached to names (or keys).</p>
<ul>
<li><p>NOTE: We can mimic this structure somewhat by loading a <code class="docutils literal notranslate"><span class="pre">.csv</span></code> as a dictionary data structure</p></li>
</ul>
</li>
<li><p>JSON can also have a hierarchical or nested structure, in that objects can be stored or nested inside other objects as part of the same array.</p></li>
</ul>
</section>
<section id="loading-structured-data-in-python">
<h3>Loading Structured Data in Python<a class="headerlink" href="#loading-structured-data-in-python" title="Permalink to this heading">#</a></h3>
<p>Much of our work this semester will utilize <code class="docutils literal notranslate"><span class="pre">Pandas</span></code>, a powerful Python library for working with structured data. But we can also work with structured data using Python’s built-in secondary data structures and the <code class="docutils literal notranslate"><span class="pre">csv</span></code> and <code class="docutils literal notranslate"><span class="pre">json</span></code> modules.</p>
<section id="without-pandas">
<h4>Without Pandas<a class="headerlink" href="#without-pandas" title="Permalink to this heading">#</a></h4>
<section id="csv">
<h5><code class="docutils literal notranslate"><span class="pre">csv</span></code><a class="headerlink" href="#csv" title="Permalink to this heading">#</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">csv</span></code> module allows us to create a <code class="docutils literal notranslate"><span class="pre">reader</span></code> object that iterates over lines in a <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file. We can use it to read or load an existing <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file into Python.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># loading delimited data as list of lists</span>
<span class="kn">import</span> <span class="nn">csv</span> <span class="c1"># import statement</span>
<span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;example.csv&#39;</span><span class="p">)</span> <span class="c1"># open file</span>
<span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">file</span><span class="p">)</span> <span class="c1"># create reader object</span>
<span class="n">data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span> <span class="c1"># create list of lists</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="c1"># show output</span>
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># if we wanted to combine those steps</span>
<span class="kn">import</span> <span class="nn">csv</span> <span class="c1"># import statement</span>
<span class="n">data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;example.csv&#39;</span><span class="p">)))</span> <span class="c1"># open file, create reader object, convert to list</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="c1"># show output</span>
</pre></div>
</div>
<p>For more on using the <code class="docutils literal notranslate"><span class="pre">csv</span></code> module and this workflow:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/kwaldenphd/python-structured-data/tree/main#read">Elements of Computing I lab notes</a></p></li>
</ul>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># loading delimited data as dictionary</span>
<span class="kn">import</span> <span class="nn">csv</span> <span class="c1"># import statement</span>
<span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;example.csv&#39;</span><span class="p">)</span> <span class="c1"># open file</span>
<span class="n">dictReader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictReader</span><span class="p">(</span><span class="n">file</span><span class="p">)</span> <span class="c1"># DictReader object</span>
<span class="n">data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">dictReader</span><span class="p">)</span> <span class="c1"># convert DictReader to list of dictionaries</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="c1"># show output</span>
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># if we wanted to combine those steps</span>
<span class="kn">import</span> <span class="nn">csv</span> <span class="c1"># import statement</span>
<span class="n">data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">csv</span><span class="o">.</span><span class="n">DictReader</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;example.csv&#39;</span><span class="p">)))</span> <span class="c1"># open file, create DictReader object, convert to list of dictionaries</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="c1"># show output</span>
</pre></div>
</div>
</section>
<section id="json">
<h5><code class="docutils literal notranslate"><span class="pre">json</span></code><a class="headerlink" href="#json" title="Permalink to this heading">#</a></h5>
<p>We can read JSON into Python using the <code class="docutils literal notranslate"><span class="pre">json</span></code> module, which includes a few key functions for loading JSON data into Python:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">json.loads()</span></code> takes a single string of JSON and loads it as a Python value</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">json.load()</span></code> takes a JSON file (or file-like object) and loads it as a Python value</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">json.dumps()</span></code> takes a Python value and transforms it to a JSON object.</p></li>
</ul>
<p>Values stored in JSON format must be one of the following data types:</p>
<ul class="simple">
<li><p>string</p></li>
<li><p>number</p></li>
<li><p>object (JSON object)</p></li>
<li><p>array</p></li>
<li><p>boolean</p></li>
<li><p>null</p></li>
</ul>
<p>Translation table for how Python’s <code class="docutils literal notranslate"><span class="pre">json</span></code> module interprets or renders these data types:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>JSON</p></th>
<th class="head"><p>Python</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>object</p></td>
<td><p>dict</p></td>
</tr>
<tr class="row-odd"><td><p>array</p></td>
<td><p>list</p></td>
</tr>
<tr class="row-even"><td><p>string</p></td>
<td><p>str</p></td>
</tr>
<tr class="row-odd"><td><p>number (int)</p></td>
<td><p>int</p></td>
</tr>
<tr class="row-even"><td><p>number (real)</p></td>
<td><p>float</p></td>
</tr>
<tr class="row-odd"><td><p>true</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-even"><td><p>false</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td><p>null</p></td>
<td><p>None</p></td>
</tr>
</tbody>
</table>
<p>To translate a string of JSON data into a Python value, we pass it to the <code class="docutils literal notranslate"><span class="pre">loads()</span></code> function contained in the <code class="docutils literal notranslate"><span class="pre">json</span></code> module.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">json</span> <span class="c1"># import statement</span>
<span class="n">jString</span> <span class="o">=</span> <span class="s1">&#39;{&quot;name&quot;: &quot;Zophie&quot;, &quot;isCat&quot;: true, &quot;miceCaught&quot;: 0, &quot;felineIQ&quot;: null}&#39;</span> <span class="c1"># string of JSON data</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">jString</span><span class="p">)</span> <span class="c1"># load JSON data as Python value</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="c1"># show output</span>
</pre></div>
</div>
<p>When loading a JSON file (or file-like object), we would need to use the <code class="docutils literal notranslate"><span class="pre">json.load()</span></code> argument.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">json</span> <span class="c1"># import statement</span>
<span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;example.json&quot;</span><span class="p">)</span> <span class="c1"># open file</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="p">)</span> <span class="c1"># parse as JSON</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="c1"># show output</span>
</pre></div>
</div>
<p>For more on using the <code class="docutils literal notranslate"><span class="pre">json</span></code> module and this workflow:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/kwaldenphd/python-structured-data/tree/main#javascript-object-notation">Elements of Computing I lab notes</a></p></li>
</ul>
<p>If you’re feeling fuzzy on file methods:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/kwaldenphd/python-structured-data/tree/main#overview">Elements of Computing I lab notes</a></p></li>
</ul>
</section>
</section>
<section id="with-pandas">
<h4>With Pandas<a class="headerlink" href="#with-pandas" title="Permalink to this heading">#</a></h4>
<p align="center"><img src="https://github.com/kwaldenphd/pandas-intro/blob/main/images/series_df_diagram.png?raw=true" width="1000"></p>
<p><code class="docutils literal notranslate"><span class="pre">pandas</span></code> has two main data structures: <code class="docutils literal notranslate"><span class="pre">Series</span></code> and <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>.</p>
<ul class="simple">
<li><p>“A <code class="docutils literal notranslate"><span class="pre">Series</span></code> is a one-dimensional, array-like object containing a sequence of values…and an associated array of data labels, called its index” (McKinney, 126)</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> includes a tabular data structure “and contains an ordered collection of columns, each of which can be a different value type” (McKinney, 130).</p></li>
</ul>
<section id="delimited-file-dataframe">
<h5>Delimited file -&gt; <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code><a class="headerlink" href="#delimited-file-dataframe" title="Permalink to this heading">#</a></h5>
<p>Loading a delimited file as a DataFrame is fairly straightforward.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> <span class="c1"># import statement</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;example.csv&quot;</span><span class="p">)</span> <span class="c1"># load file, create dataframe</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="c1"># show output</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">.read_csv()</span></code> can include a number of other arguments or parameters to handle different data loading challenges, for example other delimiter characters, escape characters, and data type conversion. For more on parsing delimited data in <code class="docutils literal notranslate"><span class="pre">Pandas</span></code>:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://pandas.pydata.org/docs/user_guide/io.html">Pandas documentation</a></p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">read_</span></code> prefix can be used with other structured data file formats. For more on <code class="docutils literal notranslate"><span class="pre">Pandas</span></code> and file I/O:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://pandas.pydata.org/docs/user_guide/io.html">Pandas documentation</a></p></li>
</ul>
</section>
<section id="pandas-json">
<h5><code class="docutils literal notranslate"><span class="pre">Pandas</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">JSON</span></code><a class="headerlink" href="#pandas-json" title="Permalink to this heading">#</a></h5>
<p>Since a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> is a flat two-dimensional structure, highly-nested JSON can present a challenge.</p>
<p>Pandas includes a few JSON-specific functions. Documentation links are included below.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://pandas.pydata.org/docs/user_guide/io.html#reading-json">Reading JSON</a></p></li>
<li><p><a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.read_json.html">.read_json()</a></p></li>
<li><p><a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.json_normalize.html#pandas.json_normalize">.json_normalize()</a></p></li>
</ul>
<p>We’ll come back to these functions when we start working with web API returns.</p>
</section>
</section>
</section>
<section id="application">
<h3>Application<a class="headerlink" href="#application" title="Permalink to this heading">#</a></h3>
<p>Q1A: Navigate to an open data portal and download a <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file.</p>
<p>A few places to start:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.data.gov/">Data.gov</a></p></li>
<li><p><a class="reference external" href="https://data.cityofchicago.org/">City of Chicago Data Portal</a></p></li>
<li><p><a class="reference external" href="https://data-southbend.opendata.arcgis.com/">City of South Bend Open Data</a></p></li>
</ul>
<p>These open data portals are catalogs of datasets- you will need to explore the websites to identify and then download a specific dataset.</p>
<p>Open the data in a spreadsheet program and/or text editor.</p>
<ul class="simple">
<li><p>What do you see?</p></li>
<li><p>How can we start to make sense of the data based on available documentation?</p></li>
</ul>
<p>Q1B: Write three programs that load the data in Python using the different approaches highlighted in the previous section of the lab:</p>
<ul class="simple">
<li><p>Lists and sublists</p></li>
<li><p>Dictionaries</p></li>
<li><p>Pandas <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code></p></li>
</ul>
<p>Answer to this question includes program + comments that document process and explain your code.</p>
<p>Q1C: What challenges did you encounter? How did you address or solve them?</p>
<p>Q2A: Navigate to an open data portal and download a JSON file.</p>
<p>Some options that can get you started:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.data.gov/">Data.gov</a></p></li>
<li><p><a class="reference external" href="https://data.cityofchicago.org/">City of Chicago Data Portal</a></p></li>
<li><p><a class="reference external" href="https://data-southbend.opendata.arcgis.com/">City of South Bend Open Data</a></p></li>
</ul>
<p>These open data portals are catalogs of datasets- you will need to explore the websites to identify and then download a specific dataset.</p>
<p>Q2B: Open the data in a spreadsheet program and/or text editor. Describe what are you seeing. How can we start to make sense of this data? What documentation is available?</p>
<p>Q2C: Write a program that loads the JSON data into Python, using the workflow shown in the previous section of the lab.</p>
<ul class="simple">
<li><p>You’re welcome to explore creating a Pandas <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>, but that’s not required.</p></li>
</ul>
<p>Answer to this question includes program + comments that document process and explain your code.</p>
<p>Q3C: What challenges did you encounter? How did you address or solve them?</p>
</section>
</section>
<section id="web-apis">
<h2>Web APIs<a class="headerlink" href="#web-apis" title="Permalink to this heading">#</a></h2>
<p>START HERE (YouTube): <a class="reference external" href="https://youtu.be/qW1qhb8r8xI?si=q8jdyE6oZEsH4xFR">https://youtu.be/qW1qhb8r8xI?si=q8jdyE6oZEsH4xFR</a></p>
<p>For a brief introduction to APIs, view Danielle Thé, <a class="reference external" href="https://youtu.be/qW1qhb8r8xI">“API’s Explained (with LEGO)”</a>, <em>YouTube Video</em> (1 November 2016).</p>
<p align="center"><a href="https://github.com/kwaldenphd/apis-python/blob/main/Figure_1.jpg?raw=true"><img class="aligncenter" src="https://github.com/kwaldenphd/apis-python/blob/main/Figure_1.jpg?raw=true" /></a></p>
<p>We’re focusing on web APIs, which allow for information or functionality to be manipulated by other programs via the internet. Web APIs are a popular workflow for making data available from large-scale repositories. A few examples…</p>
<ul class="simple">
<li><p>The U.S. National Archives and Records Administration (NARA) makes the National Archives catalog, Executive Orders, and photographic image content available <a class="reference external" href="https://www.archives.gov/developer#toc--datasets">via an API</a>.</p></li>
<li><p>The Smithsonian Institution allows open access to museum collection metadata <a class="reference external" href="https://www.si.edu/openaccess/devtools">via an API</a>.</p></li>
<li><p>The U.S. Library of Congress provides access to digital collection metadata, digitized historical newspaper images, public radio and television programs, and World Digital Library collections <a class="reference external" href="https://labs.loc.gov/lc-for-robots/">via APIs</a>.</p></li>
<li><p>The U.S. Census Bureau makes a wide range of public data available <a class="reference external" href="https://www.census.gov/data/developers/data-sets.html">via API</a>.</p></li>
</ul>
<p>APIs let us bring a live data connection into a programming environment and interact or work with it based on the format and protocols established as part of the API.</p>
<p>For example, imagine you want to know winter weather road conditions or the status of snow plow routes. Downloading a static dataset isn’t going to work for this specific use case–you need a live data feed with up-to-date information. This is the beauty of APIs!</p>
<ul class="simple">
<li><p><a class="reference external" href="https://public-iowadot.opendata.arcgis.com/pages/winter">Track down Iowa Department of Transportation’s nearly 901 snow plows</a>.</p></li>
<li><p><a class="reference external" href="https://public-iowadot.opendata.arcgis.com/datasets/IowaDOT::snow-plow-truck-location-avl-iowa-dot/about">Link to IDOT’s plow truck data</a></p></li>
</ul>
<section id="api-terminology-general-workflow">
<h3>API Terminology &amp; General Workflow<a class="headerlink" href="#api-terminology-general-workflow" title="Permalink to this heading">#</a></h3>
<p>Some terminology that goes along with APIs.</p>
<ul class="simple">
<li><p><em><strong>HTTP (HyperText Transfer Protocol)</strong></em>: primary means of communicating or transferring data on the world wide web.</p></li>
<li><p><em><strong>URL (Uniform Resource Locator)</strong></em>: an address or location information for information on the web. A URL describes the location of a specific resource.</p></li>
<li><p><em><strong>JSON (JavaScript Object Notation)</strong></em>: plain-text data storage format</p></li>
<li><p><em><strong>REST (REpresentational State Transfer)</strong></em>: best practices for implementing APIs. APIs that follow these principles are called REST APIs.</p></li>
</ul>
<p>A very general web API workflow…</p>
<ul class="simple">
<li><p>Request data from a URL</p>
<ul>
<li><p>Sometimes you have to specify additional parameters, like headers or an access key/token.</p></li>
</ul>
</li>
<li><p>Store the response in Python</p></li>
<li><p>Convert the response to the appropriate Python data structure</p></li>
</ul>
<p>Let’s look at a couple of examples.</p>
</section>
<section id="city-of-south-bend-open-data-portal">
<h3>City of South Bend Open Data Portal<a class="headerlink" href="#city-of-south-bend-open-data-portal" title="Permalink to this heading">#</a></h3>
<p>OPEN DATA PORTAL SCREENSHOT</p>
<p>Head to the City of South Bend’s Open Data Portal. Identify a specific dataset you want to load in Python.</p>
<p>DATA INVENTORY SCREENSHOT</p>
<p>I’m working with the raw data from the City’s 2022 Digital Literacy Survey.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://data-southbend.opendata.arcgis.com/datasets/SouthBend::2022-digital-literacy-survey-raw-data/about">https://data-southbend.opendata.arcgis.com/datasets/SouthBend::2022-digital-literacy-survey-raw-data/about</a></p></li>
</ul>
<p>VIEW API RESOURCES SCREENSHOT</p>
<p>We could download this data as a <code class="docutils literal notranslate"><span class="pre">CSV</span></code> file, but let’s instead explore the API options.</p>
<p>API EXPLORER SCREENSHOT</p>
<p><a class="reference external" href="https://data-southbend.opendata.arcgis.com/datasets/SouthBend::2022-digital-literacy-survey-raw-data/api">https://data-southbend.opendata.arcgis.com/datasets/SouthBend::2022-digital-literacy-survey-raw-data/api</a></p>
<p>QUERY URL SCREENSHOT</p>
<p>Spend some time exploring the options on this page. As you customize the query, notice how the <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">URL</span></code> changes. We can think about the <code class="docutils literal notranslate"><span class="pre">URL</span></code> as the data’s “address.” Modifying what data we want requires modifying the address.</p>
<p>Once you have finalized your query (what parts of this data you want to work with in Python), we’ll use the <code class="docutils literal notranslate"><span class="pre">requests</span></code> and <code class="docutils literal notranslate"><span class="pre">json</span></code> modules to load the data.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">json</span> <span class="c1"># import statements</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://opendata.arcgis.com/datasets/c97085b608604f5c8c07487c24dcaff4_0/FeatureServer/0/query?where=1%3D1&amp;outFields=*&amp;outSR=4326&amp;f=json&quot;</span><span class="p">)</span> <span class="c1"># request data from url</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="c1"># parse response as JSON object</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="c1"># show output</span>
</pre></div>
</div>
<p>We can use Python dictionary syntax to make sense of what’s in this output.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># show top-level keys</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</pre></div>
</div>
<p>At first glance, everything up through the <code class="docutils literal notranslate"><span class="pre">fields</span></code> key looks like technical information about the API return. <code class="docutils literal notranslate"><span class="pre">fields</span></code> doesn’t have the survey responses, but it does have important metadata about the survey data.</p>
<p>Let’s start by creating a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> with this <code class="docutils literal notranslate"><span class="pre">metadata</span></code> (data about data).</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">metadata</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;fields&#39;</span><span class="p">])</span> <span class="c1"># create dataframe</span>
<span class="n">metadata</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;metadata.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># write metadata to csv file</span>
<span class="nb">print</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span> <span class="c1"># show output</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">fields</span></code> key includes survey response data, but it’s structured as a list of dictionaries. We’ll need to use a combination of list and dictionary Python syntax (and some trial and error) here.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;features&#39;</span><span class="p">]))</span> <span class="c1"># shows us data type for the value associated with the features key</span>
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;features&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># selects the first response</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">response</span><span class="p">))</span> <span class="c1"># show response data type</span>
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="c1"># shows keys for single response</span>
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">response</span><span class="p">[</span><span class="s1">&#39;attributes&#39;</span><span class="p">]))</span> <span class="c1"># show data type for attributes value</span>
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">[</span><span class="s1">&#39;attributes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="c1"># gets value for attributes key, shows those keys</span>
</pre></div>
</div>
<p>That’s starting to look like survey results. We could use another print statement to confirm.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;attributes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span> <span class="c1"># iterate over dictionary items</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="c1"># show key and value</span>
</pre></div>
</div>
<p>Now that we understand how the API return data is structured, we can create a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> with the survey data. We’ll first need a list with the survey response dictionaries.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> <span class="c1"># import statement</span>

<span class="n">surveyData</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># empty list for responses</span>

<span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;features&#39;</span><span class="p">]:</span> <span class="c1"># iterate over list of dictionaries</span>
  <span class="n">surveyData</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;attributes&#39;</span><span class="p">])</span> <span class="c1"># isolate value and append to list</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">surveyData</span><span class="p">)</span> <span class="c1"># create df</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="c1"># show output</span>
</pre></div>
</div>
<p>Now, there’s more we might want to do with this <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> (rename columns, remove unneeded columns, perform other kinds of calculations, etc). But this gets us started!</p>
<p>To recap what we just did:</p>
<ul class="simple">
<li><p>Customize query URL</p></li>
<li><p>Load response in Python</p></li>
<li><p>Parse the data structure to isolate the data we want</p></li>
<li><p>Store that data as a Pandas <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code></p></li>
</ul>
<section id="id1">
<h4>Application<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h4>
<p>Q3:</p>
<p>Work through this for another open data portal dataset. You’re welcome to use another City of South Bend dataset, and it’s fine to continue with the Q1 dataset.</p>
<p>But if you want to flex you API muscles, try a different open data portal to learn a new interface and data structure! Lots to choose from, but Chicago and NYC are good places to start.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://data.cityofchicago.org/">Chicago Data Portal</a></p>
<ul>
<li><p><a class="reference external" href="https://dev.socrata.com/docs/endpoints.html">Documentation</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="https://opendata.cityofnewyork.us/">NYC Open Data</a></p>
<ul>
<li><p><a class="reference external" href="https://dev.socrata.com/docs/endpoints.html">Documentation</a></p></li>
</ul>
</li>
</ul>
<p>Starting to make sense of the documentation</p>
<p>Getting the data in Python</p>
<p>Storing as pandas df</p>
</section>
</section>
<section id="u-s-census-bureau">
<h3>U.S. Census Bureau<a class="headerlink" href="#u-s-census-bureau" title="Permalink to this heading">#</a></h3>
<p>As we’ve seen previously, the U.S. Census Bureau collects a wealth of information about people, households, communities, etc. They also have a <a class="reference external" href="https://www.census.gov/data/developers/data-sets.html">number of APIs</a> and a <a class="reference external" href="https://www.census.gov/data/what-is-data-census-gov/guidance-for-data-users/how-to-materials-for-using-the-census-api.html">robust user community</a>.</p>
<p align="center"><a href="https://github.com/kwaldenphd/apis-python/blob/main/Figure_2.png?raw=true"><img class="aligncenter" src="https://github.com/kwaldenphd/apis-python/blob/main/Figure_2.png?raw=true" /></a></p>
<p>Unlike the APIs we encountered in the previous section of the lab, the Census Bureau’s API requires a key. Head to the Census Bureau’s <a class="reference external" href="https://www.census.gov/data/developers/about.html">“About”</a> page for developers and click the “Request a Key” icon. Once you’ve completed the “Request a Key” form, you should receive an API key via email. This will look like a long string of letters and numbers.</p>
<ul class="simple">
<li><p><em>It’s fine to use your name or “University of Notre Dame” for “Organization Name”</em></p></li>
</ul>
<section id="selecting-a-dataset">
<h4>Selecting a Dataset<a class="headerlink" href="#selecting-a-dataset" title="Permalink to this heading">#</a></h4>
<p>TABLE INVENTORY SCREENSHOT</p>
<p>The first step is figuring out what Census Bureau dataset and API you want to work with. One option is to use <a class="reference external" href="https://data.census.gov/">data.census.gov</a>’s data explorer interface. Keyword search results can point you to datasets of interest (which you would then have to track down in the API documentation).</p>
<p>AVAILABLE APIS SCREENSHOT</p>
<p><a class="reference external" href="https://www.census.gov/data/developers/data-sets.html">https://www.census.gov/data/developers/data-sets.html</a></p>
<p>Looking at the APIs for <a class="reference external" href="https://www.census.gov/data/developers/data-sets.html">specific Census Bureau data collection instruments</a> is also a place to start.</p>
<p>DOISCOVERY TOOL SCREENSHOT</p>
<p>You could also jump into the <a class="reference external" href="https://www.census.gov/data/developers/updates/new-discovery-tool.html">API Discovery Tool</a>, which is available in a couple different formats. This is a machine-readable inventory of Census Bureau datatasets. It can also be slightly overwhelming.</p>
<p>For this example, I’m going to use microdata from the American Community Survey, specifically the “<a class="reference external" href="https://www.census.gov/data/developers/data-sets/census-microdata-api.ACS_1-Year_PUMS.html#accordion-container-accordion-4ad4d2b1b3">2022 American Community Survey 1-Year Estimates Public Use Microdata Sample (2005-2019, 2021, 2022)</a>.”</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.census.gov/data/developers/data-sets/census-microdata-api.ACS_1-Year_PUMS.html#accordion-container-accordion-4ad4d2b1b3">Link to the API documentation</a></p></li>
</ul>
</section>
<section id="constructing-your-query">
<h4>Constructing Your Query<a class="headerlink" href="#constructing-your-query" title="Permalink to this heading">#</a></h4>
<p>Before you jump into writing the API call in Python, use the available documentation to make sense of how the URL is structured, what variables are included in the dataset, etc.</p>
<p>Note that for the Census Bureau API, your key is part of the URL. Concatenation and a string variable can be helpful here.</p>
<p>Let’s break down one of the example URLs included in the documentation for this survey.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>https://api.census.gov/data/2022/acs/acs1/pums?get=SEX,PWGTP,MAR&amp;SCHL=24&amp;key=YOUR_KEY_GOES_HERE
</pre></div>
</div>
<p>We can start to break down the pieces of information included here:</p>
<ul class="simple">
<li><p>Root: <code class="docutils literal notranslate"><span class="pre">https://api.census.gov/data</span></code></p></li>
<li><p>Survey: <code class="docutils literal notranslate"><span class="pre">acs</span></code> (American Community Survey)</p></li>
<li><p>Coverage: <code class="docutils literal notranslate"><span class="pre">acs1</span></code> (1 year estimates)</p></li>
<li><p>Subset: <code class="docutils literal notranslate"><span class="pre">pums</span></code> (Public Use Microdata Sample)</p></li>
<li><p>Query: <code class="docutils literal notranslate"><span class="pre">?get=</span></code> (prefix for selecting specific variables)</p></li>
<li><p>Variables: <code class="docutils literal notranslate"><span class="pre">SEX,PWGTP,MAR&amp;SCHL=24</span></code> (codes for specific variables, from <a class="reference external" href="https://api.census.gov/data/2022/acs/acs1/pums/variables.html">the documentation</a>)</p>
<ul>
<li><p>NOTE: In this example, the URL is structured to select all values for the <code class="docutils literal notranslate"><span class="pre">SEX</span></code>, <code class="docutils literal notranslate"><span class="pre">PWGTP</span></code>, <code class="docutils literal notranslate"><span class="pre">MAR</span></code> variables. This query will only return records where the <code class="docutils literal notranslate"><span class="pre">SCHL</span></code> variable value is <code class="docutils literal notranslate"><span class="pre">24</span></code>.</p></li>
<li><p>In a scenario where we are not filtering for specific variable values, we could just include variable names separated by commas (i.e. <code class="docutils literal notranslate"><span class="pre">SEX,</span> <span class="pre">PWGTP,</span> <span class="pre">MAR,</span> <span class="pre">SCHL</span></code>)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&amp;key=</span></code> (prefix for entering your API key)</p></li>
</ul>
</section>
<section id="writing-the-api-call">
<h4>Writing the API Call<a class="headerlink" href="#writing-the-api-call" title="Permalink to this heading">#</a></h4>
<p>Remember our general API workflow:</p>
<ul class="simple">
<li><p>Customize query URL</p></li>
<li><p>Load response in Python</p></li>
<li><p>Parse the data structure to isolate the data we want</p></li>
<li><p>Store that data as a Pandas <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code></p></li>
</ul>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> <span class="c1"># import statements</span>
<span class="n">key</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="c1"># add your key to make this a string variable</span>
<span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://api.census.gov/data/2022/acs/acs1/pums?get=SEX,PWGTP,MAR&amp;SCHL=24&amp;key=</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span> <span class="c1"># use f strings and concatenation to construct the query</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="c1"># requests data</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="c1"># store response</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">columns</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="c1"># create the dataframe, making the first sublist the column headers, and starting with the first row of data to avoid duplicating headers)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="c1"># show output</span>
</pre></div>
</div>
</section>
<section id="other-resources">
<h4>Other Resources<a class="headerlink" href="#other-resources" title="Permalink to this heading">#</a></h4>
<p>This is an example query- there are lots of ways to customize Census Bureau API requests. Check out <a class="reference external" href="https://census-docs.com/"><code class="docutils literal notranslate"><span class="pre">census-docs</span></code></a> and the Census Bureau’s API documentation for more info.</p>
<ul class="simple">
<li><p>For example, if we just wanted data for Indiana, we could add the <code class="docutils literal notranslate"><span class="pre">in</span></code> parameter to your URL: ‘<a class="reference external" href="http://api.census.gov/data/2022/acs/acs1/pums?get=SEX,PWGTP,MAR&amp;amp;SCHL=24&amp;amp;in=state:17&amp;amp;key=%60">api.census.gov/data/2022/acs/acs1/pums?get=SEX,PWGTP,MAR&amp;SCHL=24&amp;in=state:17&amp;key=`</a></p></li>
</ul>
<p>Some datasets include <code class="docutils literal notranslate"><span class="pre">Groups</span></code>, which let you return multiple related variables.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.census.gov/data/developers/updates/groups-functionality.html">Link to more information on groups</a></p></li>
</ul>
<p>DataMade also has a Python wrapper for the Census Bureau APIs, which is designed to streamline programming workflows.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/datamade/census">Link to more information</a></p></li>
</ul>
<p>The Census Bureau APIs can be overwhelming, but they’re a powerful tool for accessing data. Wading through the documentation is worth your time.</p>
</section>
<section id="id2">
<h4>Application<a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h4>
<p>Q4:</p>
<p>Write your own Census Bureau API call. You could use the same dataset and modify the year, variables, geography scope, etc.</p>
<p>You could also explore other datasets.</p>
<p>Starting to make sense of the documentation</p>
<p>Getting the data in Python</p>
<p>Storing as pandas df</p>
</section>
</section>
</section>
<section id="working-with-unstructured-text">
<h2>Working With Unstructured Text<a class="headerlink" href="#working-with-unstructured-text" title="Permalink to this heading">#</a></h2>
<p>START HERE</p>
<ul class="simple">
<li><p>Elisevier video: <a class="reference external" href="https://youtu.be/I3cjbB38Z4A?si=N3hv-j7dkOHDkXED">https://youtu.be/I3cjbB38Z4A?si=N3hv-j7dkOHDkXED</a></p></li>
<li><p>Elsivier video: <a class="reference external" href="https://youtu.be/xxqrIZyKKuk?si=ncOxIy5EZufVpmkf">https://youtu.be/xxqrIZyKKuk?si=ncOxIy5EZufVpmkf</a></p></li>
</ul>
<p>EXPLANATION FOR UNSTRUCTURED TEXT</p>
<p>If you took Elements of Computing I with Prof. Walden, you had some exposure to how we can start to work with unstructured text, looking at things like term relationships, frequency, etc. Web scraping is a great workflow for information that is online in web pages. But what about text information contained in documents?</p>
<p>Enter Optical Character Recognition, or OCR.</p>
<p>“Optical character recognition (OCR) is sometimes referred to as text recognition. An OCR program extracts and repurposes data from scanned documents, camera images and image-only pdfs. OCR software singles out letters on the image, puts them into words and then puts the words into sentences, thus enabling access to and editing of the original content…OCR systems use a combination of hardware and software to convert physical, printed documents into machine-readable text” (IBM Cloud Education, “<a class="reference external" href="https://www.ibm.com/blog/optical-character-recognition/">What is Optical Character Recognition?</a>”, 5 January 2022)</p>
<p>OCR is an example of computer vision in action. A full exploration of OCR or computer vision is outside the scope of this course. We’re going to focus on some Python workflows for extracting text and data from PDF documents that already contain text.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://drive.google.com/file/d/1WbGTAvs1WCGrC5XZeADyhminFn8QMEHT/view?usp=sharing">Link to a (messy) Jupyter Notebook that walks through some OCR foundations</a></p></li>
</ul>
<p>We’re going to be using a couple Python libraries built for extracting text and tables from PDF files.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://pypdf.readthedocs.io/en/stable/index.html"><code class="docutils literal notranslate"><span class="pre">pypdf</span></code></a></p></li>
<li><p><a class="reference external" href="https://tabula-py.readthedocs.io/en/latest/"><code class="docutils literal notranslate"><span class="pre">tabula-py</span></code></a></p></li>
</ul>
<p>And we’ll be testing out these workflows on a PDF file from the <a class="reference external" href="http://docs.southbendin.gov/WebLink/Welcome.aspx?cr=1">City of South Bend’s Document Search Center</a>. I’m looking at the <a class="reference external" href="http://docs.southbendin.gov/WebLink/0/edoc/335114/2020%20Annual%20Inclusion%20Contracting%20Procurement%20Report%203-27-21_.pdf">Inclusive Procurement &amp; Contracting Board’s 2020 report</a>.</p>
<section id="python-workflows">
<h3>Python Workflows<a class="headerlink" href="#python-workflows" title="Permalink to this heading">#</a></h3>
<p>We’ll start by installing and importing these packages.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span>!pip install pypdf tabula-py
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># import statements</span>
<span class="kn">from</span> <span class="nn">pypdf</span> <span class="n">importPdfReader</span>
<span class="kn">import</span> <span class="nn">tabula</span>
</pre></div>
</div>
<p>Next, we’ll use <code class="docutils literal notranslate"><span class="pre">PdfReader</span></code> to extract text.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">reader</span> <span class="o">=</span> <span class="n">PdfReader</span><span class="p">(</span><span class="s2">&quot;pdf20.pdf&quot;</span><span class="p">)</span> <span class="c1"># load renamed file as reader object</span>
<span class="n">page</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">pages</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># isolate single page</span>
<span class="nb">print</span><span class="p">(</span><span class="n">page</span><span class="o">.</span><span class="n">extract_text</span><span class="p">())</span> <span class="c1"># show extracted text output</span>
</pre></div>
</div>
<p>To iterate over all pages in the document and write the contents to a <code class="docutils literal notranslate"><span class="pre">.txt</span></code> file:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;output.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span> <span class="c1"># create file</span>
  <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">reader</span><span class="o">.</span><span class="n">pages</span><span class="p">:</span> <span class="c1"># iterate over pages</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">extract_text</span><span class="p">())</span> <span class="c1"># extract text and write to file</span>
</pre></div>
</div>
<p>Folks may be wondering how we might handle tables or tabular data in a PDF file. We can use Tabula’s <code class="docutils literal notranslate"><span class="pre">.read_pdf()</span></code> function to extract all tables in our document as Pandas <code class="docutils literal notranslate"><span class="pre">DataFrames</span></code>.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">dfs</span> <span class="o">=</span> <span class="n">tabula</span><span class="o">.</span><span class="n">read_pdf</span><span class="p">(</span><span class="s2">&quot;pdf20.pdf&quot;</span><span class="p">,</span> <span class="n">pages</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">)</span> <span class="c1"># load file, isolate dataframes</span>
<span class="n">dfs</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;output.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># write single dataframe to CSV file</span>
<span class="n">dfs</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="c1"># show single dataframe</span>
</pre></div>
</div>
<p>There’s more we probably want to do with output, but this gets us started.</p>
</section>
<section id="id3">
<h3>Application<a class="headerlink" href="#id3" title="Permalink to this heading">#</a></h3>
<p>Q5:</p>
<p>Find another SB file.</p>
<p>Skim the document, what types of information are there.</p>
<p>Extract text to txt file</p>
<p>Extract tables, write one to CSV file</p>
<p>Where you’d want to go next, other data processing steps</p>
</section>
</section>
<section id="how-to-submit-this-lab-show-your-work">
<h2>How to Submit This Lab &amp; Show Your Work<a class="headerlink" href="#how-to-submit-this-lab-show-your-work" title="Permalink to this heading">#</a></h2>
</section>
<section id="lab-notebook-questions">
<h2>Lab Notebook Questions<a class="headerlink" href="#lab-notebook-questions" title="Permalink to this heading">#</a></h2>
<p>`</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./02-Data-Sources-Structures"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../01-Python-Refresh/00-Python.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Getting Started With Python</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#acknowledgements">Acknowledgements</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#table-of-contents">Table of Contents</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-use-this-notebook">How to Use This Notebook</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lab-notebook-template">Lab Notebook Template</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#structured-data">Structured Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tabular-or-delimited-data">Tabular (or Delimited) Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#javascript-object-notation">JavaScript Object Notation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-structured-data-in-python">Loading Structured Data in Python</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#without-pandas">Without Pandas</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#csv"><code class="docutils literal notranslate"><span class="pre">csv</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#json"><code class="docutils literal notranslate"><span class="pre">json</span></code></a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#with-pandas">With Pandas</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#delimited-file-dataframe">Delimited file -&gt; <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#pandas-json"><code class="docutils literal notranslate"><span class="pre">Pandas</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">JSON</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#application">Application</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#web-apis">Web APIs</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#api-terminology-general-workflow">API Terminology &amp; General Workflow</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#city-of-south-bend-open-data-portal">City of South Bend Open Data Portal</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Application</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#u-s-census-bureau">U.S. Census Bureau</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#selecting-a-dataset">Selecting a Dataset</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#constructing-your-query">Constructing Your Query</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#writing-the-api-call">Writing the API Call</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#other-resources">Other Resources</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Application</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-unstructured-text">Working With Unstructured Text</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#python-workflows">Python Workflows</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Application</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-submit-this-lab-show-your-work">How to Submit This Lab &amp; Show Your Work</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lab-notebook-questions">Lab Notebook Questions</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By <a href="https://americanstudies.nd.edu/faculty/katherine-walden/">Dr. Katherine Walden</a>
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=bd9e20870c6007c4c509"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=bd9e20870c6007c4c509"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>